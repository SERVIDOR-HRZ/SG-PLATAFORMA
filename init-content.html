<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inicializar Contenido - Seamos Genios</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #000000, #8B0000);
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }

        .container {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 3rem;
            border-radius: 20px;
            text-align: center;
            max-width: 600px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }

        h1 {
            margin-bottom: 1rem;
            font-size: 2rem;
        }

        p {
            margin-bottom: 2rem;
            line-height: 1.6;
            opacity: 0.9;
        }

        button {
            background: #FFD700;
            color: #000;
            border: none;
            padding: 1rem 2rem;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        button:hover {
            background: #DAA520;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 215, 0, 0.4);
        }

        button:disabled {
            background: #666;
            cursor: not-allowed;
            transform: none;
        }

        .status {
            margin-top: 2rem;
            padding: 1rem;
            border-radius: 10px;
            background: rgba(0, 0, 0, 0.3);
            display: none;
        }

        .status.show {
            display: block;
        }

        .success {
            color: #4CAF50;
        }

        .error {
            color: #f44336;
        }

        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: #FFD700;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>üöÄ Inicializar Contenido</h1>
        <p>
            Esta herramienta crear√° contenido de ejemplo en Firebase para tu plataforma:
            <br><br>
            ‚úì 3 Slides para el carrusel<br>
            ‚úì 3 Publicaciones<br>
            ‚úì Precios de los planes<br>
            ‚úì 3 Testimonios<br>
            ‚úì 3 Videos educativos
        </p>
        <button id="initBtn" onclick="initializeContent()">Inicializar Contenido</button>
        <div class="status" id="status"></div>
    </div>

    <!-- Firebase CDN -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
    <script src="Elementos/js/config.js"></script>

    <script>
        async function initializeContent() {
            const btn = document.getElementById('initBtn');
            const status = document.getElementById('status');

            btn.disabled = true;
            status.className = 'status show';
            status.innerHTML = '<div class="loading"></div> Inicializando...';

            try {
                const db = firebase.firestore();

                // 1. Crear slides de carrusel
                status.innerHTML = '<div class="loading"></div> Creando slides de carrusel...';
                const carouselItems = [
                    {
                        titulo: 'Bienvenido a Seamos Genios',
                        descripcion: 'Tu plataforma educativa para alcanzar el √©xito en el ICFES',
                        textoBoton: 'Explorar Simulacros',
                        enlaceBoton: '#simulacro',
                        imagen: 'https://images.unsplash.com/photo-1523050854058-8df90110c9f1?w=1200',
                        activo: true,
                        orden: 0,
                        fechaCreacion: firebase.firestore.FieldValue.serverTimestamp()
                    },
                    {
                        titulo: 'Prep√°rate para el ICFES',
                        descripcion: 'Simulacros especializados con los mejores resultados',
                        textoBoton: 'Ver Simulacros',
                        enlaceBoton: '#simulacro',
                        imagen: 'https://images.unsplash.com/photo-1434030216411-0b793f4b4173?w=1200',
                        activo: true,
                        orden: 1,
                        fechaCreacion: firebase.firestore.FieldValue.serverTimestamp()
                    },
                    {
                        titulo: '√önete a Nuestra Comunidad',
                        descripcion: 'Miles de estudiantes ya conf√≠an en nosotros',
                        textoBoton: 'Comenzar Ahora',
                        enlaceBoton: 'Secciones/login.html',
                        imagen: 'https://images.unsplash.com/photo-1522202176988-66273c2fd55f?w=1200',
                        activo: true,
                        orden: 2,
                        fechaCreacion: firebase.firestore.FieldValue.serverTimestamp()
                    }
                ];

                for (const item of carouselItems) {
                    await db.collection('carouselItems').add(item);
                }

                // 2. Crear publicaciones
                status.innerHTML = '<div class="loading"></div> Creando publicaciones...';
                const posts = [
                    {
                        titulo: 'Nuevos Cursos Disponibles',
                        contenido: 'Descubre nuestros nuevos cursos de matem√°ticas avanzadas y preparaci√≥n ICFES. Aprende con los mejores profesores y materiales actualizados.',
                        imagen: 'https://images.unsplash.com/photo-1503676260728-1c00da094a0b?w=800',
                        categoria: 'Noticias',
                        fecha: firebase.firestore.FieldValue.serverTimestamp()
                    },
                    {
                        titulo: 'Consejos para el Examen',
                        contenido: 'Tips importantes para mejorar tu rendimiento en las pruebas. Descubre t√©cnicas de estudio efectivas y estrategias para el d√≠a del examen.',
                        imagen: 'https://images.unsplash.com/photo-1456513080510-7bf3a84b82f8?w=800',
                        categoria: 'Consejos',
                        fecha: firebase.firestore.FieldValue.serverTimestamp()
                    },
                    {
                        titulo: 'Historias de √âxito',
                        contenido: 'Conoce las historias de nuestros estudiantes destacados que lograron excelentes resultados en el ICFES gracias a nuestra plataforma.',
                        imagen: 'https://images.unsplash.com/photo-1523240795612-9a054b0db644?w=800',
                        categoria: 'Testimonios',
                        fecha: firebase.firestore.FieldValue.serverTimestamp()
                    }
                ];

                for (const post of posts) {
                    await db.collection('publicaciones').add(post);
                }

                // 3. Crear precios
                status.innerHTML = '<div class="loading"></div> Creando precios...';
                await db.collection('configuracion').doc('precios').set({
                    basico: '$50.000 COP',
                    premium: '$80.000 COP',
                    intensivo: '$65.000 COP'
                });

                // 4. Crear testimonios
                status.innerHTML = '<div class="loading"></div> Creando testimonios...';
                const testimonials = [
                    {
                        autor: 'Juan Ram√≠rez',
                        texto: 'Gracias a Seamos Genios logr√© mejorar mi puntaje en el ICFES. ¬°Excelente plataforma!',
                        calificacion: 5,
                        fecha: firebase.firestore.FieldValue.serverTimestamp()
                    },
                    {
                        autor: 'Laura S√°nchez',
                        texto: 'Los simulacros son muy parecidos al examen real. Me sent√≠ muy preparada.',
                        calificacion: 5,
                        fecha: firebase.firestore.FieldValue.serverTimestamp()
                    },
                    {
                        autor: 'Diego Torres',
                        texto: 'La mejor inversi√≥n para mi futuro acad√©mico. Totalmente recomendado.',
                        calificacion: 5,
                        fecha: firebase.firestore.FieldValue.serverTimestamp()
                    }
                ];

                for (const testimonial of testimonials) {
                    await db.collection('testimonios').add(testimonial);
                }

                // 5. Crear videos
                status.innerHTML = '<div class="loading"></div> Creando videos...';
                const videos = [
                    {
                        titulo: 'Consejos para el ICFES',
                        descripcion: 'Tips y estrategias para obtener el mejor puntaje',
                        url: 'https://www.youtube.com/watch?v=dQw4w9WgXcQ',
                        thumbnail: null,
                        activo: true,
                        orden: 0,
                        fechaCreacion: firebase.firestore.FieldValue.serverTimestamp()
                    },
                    {
                        titulo: 'T√©cnicas de Estudio',
                        descripcion: 'Aprende a estudiar de manera efectiva',
                        url: 'https://www.youtube.com/watch?v=dQw4w9WgXcQ',
                        thumbnail: null,
                        activo: true,
                        orden: 1,
                        fechaCreacion: firebase.firestore.FieldValue.serverTimestamp()
                    },
                    {
                        titulo: 'Matem√°ticas F√°ciles',
                        descripcion: 'Domina las matem√°ticas del ICFES',
                        url: 'https://www.youtube.com/watch?v=dQw4w9WgXcQ',
                        thumbnail: null,
                        activo: true,
                        orden: 2,
                        fechaCreacion: firebase.firestore.FieldValue.serverTimestamp()
                    }
                ];

                for (const video of videos) {
                    await db.collection('videos').add(video);
                }

                status.className = 'status show success';
                status.innerHTML = '‚úÖ Contenido inicializado correctamente<br><br><a href="index.html" style="color: #FFD700; text-decoration: none; font-weight: 600;">‚Üê Volver al inicio</a>';

            } catch (error) {
                console.error('Error:', error);
                status.className = 'status show error';
                status.innerHTML = '‚ùå Error: ' + error.message;
                btn.disabled = false;
            }
        }
    </script>
</body>

</html>